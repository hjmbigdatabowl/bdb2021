<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Submission • bdb2021</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Submission">
<meta property="og:description" content="bdb2021">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">bdb2021</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/submission.html">Submission</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="submission_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Submission</h1>
            
      
      
      <div class="hidden name"><code>submission.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h2>
<p>The objective of our project is to measure the ability of defensive backs at different aspects of their defensive performance: deterring targets (either by reputation or through good positioning), closing down receivers, and breaking up passes. We do this by fitting four models, two for predicting the probability that a receiver will be targeted and two for predicting the probability that a pass will be caught, which we then use to aggregate the contributions of defensive backs of the course of the season.</p>
</div>
<div id="modeling-framework" class="section level2">
<h2 class="hasAnchor">
<a href="#modeling-framework" class="anchor"></a>Modeling Framework</h2>
<p>We opted to use XGBoost for all of our models. At a high level, the reason for this choice was the ability of a tree booster to find complex interactions between predictors, which we expected there to be many of. Tree boosting also allows for null values to be present, which was helpful in how we divvied up credit in the catch probability models (more on that later). Finally, tree boosting is a relatively simple, easy to tune algorithm that also tends to perform extremely well, as was the case for us.</p>
</div>
<div id="catch-probability" class="section level2">
<h2 class="hasAnchor">
<a href="#catch-probability" class="anchor"></a>Catch Probability</h2>
<p>Our catch probability model has two distinct components: The catch probability at throw time – as in, the chance that the pass is caught at the time the quarterback releases the ball – and the catch probability at arrival time – the chance the pass is caught at the time the ball arrives. These probabilities are clearly distinct, since a lot can happen between throw release and throw arrival. First, I’ll walk through the features that are used in building each model. The sets are very similar.</p>
<p>For the throw time model, which I might refer to as just the “throw” model, while the arrival time model is the “arrival” model, the most important predictors are things you might expect: the distance of the receiver to the closest defender, the position of the receiver in the <span class="math inline">\(y\)</span> direction (i.e. distance from the sideline), the distance of the throw, the position of the football in the <span class="math inline">\(y\)</span> direction at arrival time (this is mostly catching throws to the sideline and throw aways), the velocity of the throw, the velocity and acceleration of the targeted receiver, and a composite receiver skill metric. See the appendix for a full table of features.</p>
<p>These two models both perform quite well, and far better than random chance. We achieve <strong>INSERT METRICS HERE (F, AUC for each)</strong></p>
<p>We can do a few particularly interesting things with the predictions from these two models in tandem. Namely, we can use the two to calculate marginal effects of the play of the defensive backs. A simple example is as follows: Imagine a throw with a catch probability of <span class="math inline">\(.5\)</span>. If that throw is dropped, we should somehow credit the defense with <span class="math inline">\(.5\)</span> catches, which is the difference between <span class="math inline">\(.5\)</span>, the prediction, and <span class="math inline">\(0\)</span>, the true outcome. We can extend this approach into a two-step process by using the two models together. First, we can calculate the difference between the catch probability at throw time and at catch time in order to give credit to the defense for closing down a receiver after the throw has been made. In other words, if a throw has catch probability <span class="math inline">\(.8\)</span> at throw time, and that goes down to <span class="math inline">\(.4\)</span> at catch time, then we should credit the defense with <span class="math inline">\(.4\)</span> drops added from closing the receiver down. Then, we can use the same logic to credit the defense for breaking up plays by taking the difference between the catch probability at arrival time and the true outcome.</p>
<p>However, we need to come up with a clever way to divvy up the credit. In the previous example where we have to credit the defense with <span class="math inline">\(.5\)</span> drops added, <em>who</em> exactly on the defense do we give that credit to? There are a couple of heuristics that might make sense. One option would be to just split it up evenly amongst the defense, but this is a bad heuristic because clearly some defenders will have more of an impact on a pass being caught than others. We might also give all of the credit to the nearest defenders, but that would be unfair to players who are within half a yard of the play and are also affecting its outcome, but get no credit. Instead, we opt to use the model to engineer the credit each player deserves by seeing how the catch probabilities would change if we magically removed them from the field. To do this, we take each player off of the field and re-run the predictions, and see how big the magnitude of the change in catch probability is. The bigger the magnitude difference, the more credit that player gets. So if one player gets 75% of the credit for a play and the play is worth <span class="math inline">\(.5\)</span> drops added, then that player gets <span class="math inline">\(.5 \cdot .75 = .375\)</span> drops of credit, and the remaining <span class="math inline">\(.125\)</span> drops is divvied up amongst the other defenders in the same fashion.</p>
</div>
<div id="targets" class="section level2">
<h2 class="hasAnchor">
<a href="#targets" class="anchor"></a>Targets</h2>
</div>
<div id="further-work" class="section level2">
<h2 class="hasAnchor">
<a href="#further-work" class="anchor"></a>Further Work</h2>
<p>There are obviously a number of things that we didn’t consider or that would be interesting extensions of this project. Two obvious ones are interceptions added and fumbles added, as those are hugely impactful football plays. We also only considered raw changes (i.e. targets prevented and drops added), but using EPA added instead would certainly be a better metric. It would also be interesting to apply these models to more seasons of data to track player trajectories and to see how consistent they are across seasons.</p>
</div>
<div id="appendix" class="section level2">
<h2 class="hasAnchor">
<a href="#appendix" class="anchor"></a>Appendix</h2>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Matt Kaye, Hugh McCreery.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
